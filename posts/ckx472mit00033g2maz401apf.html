<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Web安全（ACSA-Security Service认证培训课程） | 77's Blog</title><meta name="keywords" content="学习笔记"><meta name="author" content="moeqilin"><meta name="copyright" content="moeqilin"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Web安全基础：Web应用介绍 连接Web应用概念 了解客户端与服务端基本架构 掌握windows搭建服务端的方法  互联网： 互联网始于1969年美国。这种将计算机网络互相联接在一起的方法可称作“网络互联“”，在这基础上发展出覆盖全世界的全球性互联网络称互联网，即是互相连接一起的网络结构。      互联网是人类社会有史以来第一个世界性的图书馆和第一个全球性论坛。任何人，无论来自世界的任何地方，">
<meta property="og:type" content="article">
<meta property="og:title" content="Web安全（ACSA-Security Service认证培训课程）">
<meta property="og:url" content="http://example.com/posts/ckx472mit00033g2maz401apf.html">
<meta property="og:site_name" content="77&#39;s Blog">
<meta property="og:description" content="Web安全基础：Web应用介绍 连接Web应用概念 了解客户端与服务端基本架构 掌握windows搭建服务端的方法  互联网： 互联网始于1969年美国。这种将计算机网络互相联接在一起的方法可称作“网络互联“”，在这基础上发展出覆盖全世界的全球性互联网络称互联网，即是互相连接一起的网络结构。      互联网是人类社会有史以来第一个世界性的图书馆和第一个全球性论坛。任何人，无论来自世界的任何地方，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg">
<meta property="article:published_time" content="2021-11-28T07:03:48.000Z">
<meta property="article:modified_time" content="2021-12-13T04:48:45.293Z">
<meta property="article:author" content="moeqilin">
<meta property="article:tag" content="学习笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="http://example.com/posts/ckx472mit00033g2maz401apf"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Web安全（ACSA-Security Service认证培训课程）',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-12-13 12:48:45'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/moeqilin.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">77's Blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Web安全（ACSA-Security Service认证培训课程）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-11-28T07:03:48.000Z" title="发表于 2021-11-28 15:03:48">2021-11-28</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-12-13T04:48:45.293Z" title="更新于 2021-12-13 12:48:45">2021-12-13</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Web安全（ACSA-Security Service认证培训课程）"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div><article class="post-content" id="article-container"><h2 id="Web安全基础："><a href="#Web安全基础：" class="headerlink" title="Web安全基础："></a>Web安全基础：</h2><h3 id="Web应用介绍"><a href="#Web应用介绍" class="headerlink" title="Web应用介绍"></a>Web应用介绍</h3><ul>
<li>连接Web应用概念</li>
<li>了解客户端与服务端基本架构</li>
<li>掌握windows搭建服务端的方法</li>
</ul>
<p>互联网：</p>
<p>互联网始于1969年美国。这种将计算机网络互相联接在一起的方法可称作“网络互联“”，在这基础上发展出覆盖全世界的全球性互联网络称互联网，即是互相连接一起的网络结构。     </p>
<p>互联网是人类社会有史以来第一个世界性的图书馆和第一个全球性论坛。任何人，无论来自世界的任何地方，在任何时候，他（她）都可以参加，互联网永远不会关闭。而且，无论你是谁，你永远是受欢迎的。你不会由于不同的肤色、不同的穿戴、不同的宗教信仰而被排挤在外。</p>
<p>如何提供信息？：</p>
<ul>
<li><p>信息发布未知：公网                <a target="_blank" rel="noopener" href="https://uland.mouban.com/">https://uland.mouban.com/</a></p>
<p>创建公网站点/软件，在站点/软件中写入企业/组织公开信息/服务</p>
<p>用户通过浏览器/客户端访问该站点/应用，获取所需信息/服务</p>
</li>
</ul>
<p>Web应用：</p>
<ul>
<li><p>定义</p>
<p>1、应用程序有两种模式C/S、B/S</p>
<p>2、C/S是客户端/服务端程序，也就是说这类程序一般独立运行。</p>
<p>3、B/S就是浏览器端/服务器端应用程序，这类应用程序一般借助IE等浏览器来运行。WEB应用程序一般是B/S模式。</p>
<p>4、Web应用程序首先是“应用程序”，Web应用程序有自己独特的地方，就是它是基于Web的，而不是采用传统方法运行的。换句话说，它是典型的浏览器/服务器架构的产物</p>
<p>5、例如a.html、b.html…多个web网页资源，这多个web资源用于对外提供服务，此时应把这多个web资源放在一个目录中，以组成一个web应用程序。<br>6、一个web应用由多个静态web资源和动态Web资源组成，如：html、css、js文件、jsp文件、php文件、java程序、支持jar包、配置文件等等。<br>7、Web应用开发好后，若想供外界访问，需要把eb应用所在目录交给web服务器管理</p>
</li>
</ul>
<p>Web应用基本框架：</p>
<p>Web应用其实就是一个网站，但是一个网站并不简单，它其实是由多个要素所组成的一个系统。Web应用程序的设计者、Web应用服务器、动态脚本引擎（服务端程序语言）、数据库是构成Web应用必不可少的要素。</p>
<p>动态网页请求流程：</p>
<p>1、用户通过浏览器访问页面</p>
<p>2、浏览器发送HTTP请求报文</p>
<p>3、服务端判断请求的文件拓展名</p>
<p>4、服务端PHP脚本引擎处理</p>
<p>5、PHP解析文件中的PHP代码</p>
<p>6、PHP将结果发送给Apache服务端</p>
<p>7、Apache服务构建HTTP响应报文</p>
<p>8、服务器发送HTTP响应报文</p>
<p>9、浏览器渲染解析，呈现画面</p>
<p>常见的Web服务端架构：</p>
<ul>
<li>Windows（IIS、ASP(.NET)、SQL Server）</li>
<li>Windows/Linux（Apache、PHP、Mysql）</li>
<li>Windows/Linux（Tomcat、Jsp、Oracle）</li>
</ul>
<p>我们常说的LAMP和WAMP就是Windows/Linux+Apache+PHP+Mysql</p>
<h3 id="Web应用安全"><a href="#Web应用安全" class="headerlink" title="Web应用安全"></a>Web应用安全</h3><p>动态网页：</p>
<ul>
<li>依赖数据库</li>
<li>灵活性强、易维护</li>
<li>功能多样、交互性强</li>
<li>安全性低</li>
</ul>
<h4 id="常见Web功能对应漏洞："><a href="#常见Web功能对应漏洞：" class="headerlink" title="常见Web功能对应漏洞："></a>常见Web功能对应漏洞：</h4><p>搜索、留言、文件上传、文件下载</p>
<p>用户注册、用户登录、管理员登录、订单管理等</p>
<p>Web应用缺陷：</p>
<p>设计缺陷或编码时产生的错误，也有可能是交互过程中设计缺陷或者逻辑流程上不合理的地方，于是就出现了Web漏洞</p>
<p>常见Web漏洞：</p>
<p>功能 ：搜索</p>
<ul>
<li>用户的输入、数据库的交互及服务端输出、若没有严格控制输入输出，可能会造成SQL注入、XSS攻击</li>
</ul>
<p>功能：留言</p>
<ul>
<li>留言储存了用户的输入，查看留言为服务端的输出若没有严格控制输入输出，可能造成XSS、CSRF攻击</li>
</ul>
<p>功能：文件上传</p>
<ul>
<li>上传未对内容、扩展名进行管控、恶意攻击者可能上传木马文件，从而得到服务端的控制权限</li>
</ul>
<p>功能：文件下载</p>
<ul>
<li>用户可以通过修改目标文件名称从而达到下载任意文件的目的，造成严重的服务端信息泄露。</li>
</ul>
<p>功能：用户注册/登录</p>
<ul>
<li>服务端若将恶意攻击者传入的内容进行拼接传入服务端脚本与数据库，可能造成SQL注入漏洞</li>
</ul>
<p>功能：管理员登录</p>
<ul>
<li>若管理员未设置默认管理员账号密码，可能造成若口令或SQL注入漏洞</li>
</ul>
<p>功能：订单管理</p>
<ul>
<li>若服务端未进行严格的数据校验，则可能导致订单信息被恶意篡改，如订单金额、商品数量等参数，该类脆弱点通常被称为逻辑漏洞</li>
</ul>
<p>服务端入侵：</p>
<p>FTP 21：匿名登录、口令爆破</p>
<p>MySQL 3306：缓冲区溢出</p>
<p>Web 80：Web漏洞利用</p>
<p>SSH 23：口令爆破</p>
<h3 id="常见Web编码"><a href="#常见Web编码" class="headerlink" title="常见Web编码"></a>常见Web编码</h3><ul>
<li>URL标准格式</li>
</ul>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211125211307244.png" alt="  "></p>
<h4 id="URL编码"><a href="#URL编码" class="headerlink" title="URL编码"></a>URL编码</h4><p>浏览器在发送数据前自动对参数进行一次URL编码，再发送请求</p>
<p>服务端对URL进行解析后，会对参数自动进行一次URL解码，将URL编码解析回原来的字符串</p>
<h4 id="Base64"><a href="#Base64" class="headerlink" title="Base64"></a>Base64</h4><p>Base64顾名思义就是用64个可显示字符表示所有的ASC字符，64也就是6Bits,由于base64转化时位数较多，当转化原内容不足以占满所有位置时，编码时会自动在前方补上，形成8位一个字节的形式如果剩下的字符不足3个字节，则用填充，输出字符使用因此编码后输出的文本末尾可能会出现1或2个=号</p>
<h4 id="Hex编码"><a href="#Hex编码" class="headerlink" title="Hex编码"></a>Hex编码</h4><p>常见的进制编码有二进制、八进制、十进制及十六进制</p>
<p>计算机文件结构中，其常见的文件头、文件体、文件尾均是十六进制(Hex)编码</p>
<ul>
<li>如图片(JPG)的文件头：FFD8FF,文件尾：FFD9</li>
</ul>
<p>査看文件头的方式方法：</p>
<ul>
<li>windows：winhex、010editor</li>
<li>Linux：hexeditor、 hexdump命令</li>
</ul>
<h3 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h3><ul>
<li>为什么要认识HTTP协议</li>
</ul>
<p>大多数情况下都是将“恶意代码”放到HTTP协议的请求协议报文中对服务器发送</p>
<h4 id="HTTP协议报文"><a href="#HTTP协议报文" class="headerlink" title="HTTP协议报文"></a>HTTP协议报文</h4><p>HTP协议它遵循请求( Request)/应答( Response)模型，浏览器向服务器发送请求时，Web服务器处理请求并返回适当的应答。所以在发送一次HTTP请求会产生两类报文，分别是请求报文与响应报文。它也是一种无状态的协议。</p>
<ul>
<li>HTTP请求报文组织结构</li>
</ul>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211125212531915.png" alt="image-20211125212531915"></p>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211125212712157.png" alt="image-20211125212712157"></p>
<ul>
<li>请求方法</li>
</ul>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211125212608456.png" alt="image-20211125212608456"></p>
<ul>
<li>请求头部</li>
</ul>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211125212914153.png" alt="image-20211125212914153"></p>
<ul>
<li>Referer</li>
</ul>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211125212936694.png" alt="image-20211125212936694"></p>
<ul>
<li>请求数据</li>
</ul>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211125213042178.png" alt="image-20211125213042178"></p>
<h4 id="HTTP响应报文"><a href="#HTTP响应报文" class="headerlink" title="HTTP响应报文"></a>HTTP响应报文</h4><ul>
<li>状态行</li>
</ul>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211125213228439.png" alt="image-20211125213228439"></p>
<ul>
<li>响应头部</li>
</ul>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211125213511915.png" alt="image-20211125213511915"></p>
<ul>
<li>响应正文</li>
</ul>
<p>服务器返回的HTML代码</p>
<h4 id="HTTPS协议"><a href="#HTTPS协议" class="headerlink" title="HTTPS协议"></a>HTTPS协议</h4><ul>
<li><p>HTTPS(HypertextTransferProtocoloverSecureSocketLayer),它的基础是SLL/TLS,既在HTP下加入了SSL/TLS层。HTTPS)通过安全传输机制进行传送数据，这种机制可以保护网络传送的所有数据的隐秘性与完整性。</p>
</li>
<li><p>它的过程大致是先进行握手流程建立https连接（明文传输），再进行真正的数据传输（加密传输</p>
</li>
</ul>
<h2 id="Web安全工具："><a href="#Web安全工具：" class="headerlink" title="Web安全工具："></a>Web安全工具：</h2><p>Firefox</p>
<ul>
<li><p>web浏览器</p>
</li>
<li><p>web攻击检测常用浏览器</p>
</li>
<li><p>Wappalyzer插件（信息手机：目标服务器信息、cms识别）</p>
</li>
</ul>
<p>burpsuite</p>
<ul>
<li><p>数据抓包</p>
</li>
<li><p>攻击web应用的集成软件</p>
</li>
</ul>
<p>webshell</p>
<ul>
<li>文件上传</li>
<li>通过一句话木马获取网站控制权限</li>
</ul>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211128140747504.png" alt="image-20211128140747504"></p>
<p>蚁剑</p>
<ul>
<li>文件上传</li>
<li>webshell的管理工具</li>
</ul>
<p>sqlmap</p>
<ul>
<li>sql注入</li>
<li>sql注入漏洞检测与利用工具</li>
</ul>
<p>gopher</p>
<ul>
<li>ssrf漏洞</li>
<li>gopher协议指令生成器</li>
</ul>
<p>反序列化漏洞检测工具</p>
<ul>
<li>反序列化漏洞</li>
<li>反序列化漏洞检测与利用</li>
</ul>
<h2 id="身份认证攻击："><a href="#身份认证攻击：" class="headerlink" title="身份认证攻击："></a>身份认证攻击：</h2><h3 id="basic认证攻击"><a href="#basic认证攻击" class="headerlink" title="basic认证攻击"></a>basic认证攻击</h3><p>使用工具：Burpsuite</p>
<p>抓取数据包后发送到Intruder模块，在Positions中发现请求包中存在Base64编码，右键可以对编码进行解码，而后添加有效负荷位置</p>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211128222246885.png" alt="image-20211128222246885"></p>
<center>（解码）</center>

<p>之后配置Payloads有效负载类型选择自定义迭代器可选择自定义类型</p>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211128222433976.png" alt="image-20211128222433976"></p>
<p>可以在Position添加两个参数并使用Separator for position 1分隔</p>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211128222527729.png" alt="image-20211128222527729"></p>
<p>最后在PayloadProcessing（有效负载处理）中添加Base64编码即可对base64加密后的字段进行暴力破解</p>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211128222658312.png" alt="image-20211128222658312"></p>
<p>点击Start attack攻击后可以从返回结果的长度大小或响应包文判断是否爆破成功</p>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211128222952840.png" alt="image-20211128222952840"></p>
<p>附：Intruder的Positions中存在四种Attack type（攻击类型）</p>
<ul>
<li>Sniper：对有效负载逐个进行替换</li>
<li>Battering ram：将所有负载替换为相同字符</li>
<li>Pitchfork：将两个字典的内个逐个对应进行爆破</li>
<li>Cluster bomb：两个以上的字典时将字典内容进行迭代爆破（所有字符串逐个匹配）</li>
</ul>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211128223509532.png" alt="image-20211128223509532"></p>
<p>在存在验证码的登录界面将数据包发送到Repeater模块进行多次测试，若返回结果未提示验证码错误而返回用户名或密码错误等字段时，则说明验证码可以重复利用</p>
<h3 id="302跳转身份认证爆破"><a href="#302跳转身份认证爆破" class="headerlink" title="302跳转身份认证爆破"></a>302跳转身份认证爆破</h3><p>当爆破破解时发现返回状态码都为302，此时无法无法通过状态码以及数据长度进行判断，我们可以设置Intruder =&gt; Options下的Follow redirections为[always]</p>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211129232844283.png" alt="image-20211129232844283"></p>
<p>来实现暴力破解时自动进行跳转</p>
<h2 id="文件上传漏洞："><a href="#文件上传漏洞：" class="headerlink" title="文件上传漏洞："></a>文件上传漏洞：</h2><h3 id="WebShell介绍"><a href="#WebShell介绍" class="headerlink" title="WebShell介绍"></a>WebShell介绍</h3><p>WebShell之PHP一句话木马解读</p>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211129205125578.png" alt="image-20211129205125578"></p>
<p>常用一句话木马</p>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211129205329966.png" alt="image-20211129205329966"></p>
<p>Webshell管理工具：</p>
<ul>
<li>通常使用蚁剑、冰蝎、Cknif，不建议使用中国菜刀（目前互联网上绝大部分中国菜刀都带后门）</li>
</ul>
<h3 id="客户端JavaScript验证绕过"><a href="#客户端JavaScript验证绕过" class="headerlink" title="客户端JavaScript验证绕过"></a>客户端JavaScript验证绕过</h3><ul>
<li><p>原理：在选择上传文件内容时如果网页检测到非法后缀并且没有发送数据包，则说明网页大概率是在前段对上传文件类型做限制</p>
</li>
<li><p>绕过：在FireFox下使用插件NoScript可以屏蔽页面内所有JS脚本，或者直接对页面源码内做限制的JS脚本进行删除即可绕过（在F12中按F1可以在右侧找到禁用JavaScript*复选框，勾选即可）</p>
</li>
</ul>
<h3 id="服务端MIME类验证绕过"><a href="#服务端MIME类验证绕过" class="headerlink" title="服务端MIME类验证绕过"></a>服务端MIME类验证绕过</h3><p>MIME类型是描述消息内容类型的因特网标准。</p>
<ul>
<li>原理：服务端通过上传文件后缀生成Content-Type：（MME类型）</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 检测Content-type</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$_FILES</span>[<span class="string">&#x27;fupload&#x27;</span>][<span class="string">&#x27;type&#x27;</span>] != <span class="string">&quot;image/gif&quot;</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">exit</span>(<span class="string">&quot;Only upload GIF images.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>利用：利用Burp抓包，将报文中的Content-Type修改成允许的类型</p>
</li>
<li><p>Content-Type:image/gif</p>
</li>
<li><p>Content-Type:image/jpg</p>
</li>
<li><p>Content-Type:image/png</p>
</li>
</ul>
<h3 id="服务器文件内容验证-文件头"><a href="#服务器文件内容验证-文件头" class="headerlink" title="服务器文件内容验证-文件头"></a>服务器文件内容验证-文件头</h3><p>原理：图片格式是根据文件开头的一段二进制来判断的，文件头又称文件幻数</p>
<p>常见文件幻数</p>
<ul>
<li>JPG: FF D8 FF E0 00 10 4A 46 49 46（JFIF）</li>
<li>GIF：47 49 46 38 39 61（GIF89a）</li>
<li>PNG：89 50 4E 47（PNG）</li>
</ul>
<p>利用：在文件头中构造可上传格式如GIF等文件头</p>
<p>或者在windows下使用copy /b gif.gif shell.php合并文件来构造文件头未gif的php木马</p>
<p>最后将数据包中的文件名修改为php后缀的木马网页上传</p>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211130104554338.png" alt="image-20211130104554338"></p>
<h3 id="服务端文件扩展名验证-黑名单绕过"><a href="#服务端文件扩展名验证-黑名单绕过" class="headerlink" title="服务端文件扩展名验证-黑名单绕过"></a>服务端文件扩展名验证-黑名单绕过</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 检测后缀名 - 黑名单</span><br><span class="line">$black_ext = explode(&quot;|&quot;,&quot;asp|asa|cer|cdx|aspx|ascx|php|php2|php3|php4|php5|asis|htaccess|html|html|shtml|pwml|phtm|js|jsp|vbs|asis|sh|reg|cgi|exe|dll|com|bat|pl|cfc|ini&quot;);	// 转换为数组</span><br><span class="line">if(in_array($file_ext,$black_ext))</span><br><span class="line">&#123;</span><br><span class="line">	exit(&quot;Only upload GIF images;:&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>后缀名大小写绕过：</p>
<ul>
<li>原理：服务端没有将后缀转换为统一格式进行比对，导致可以上传pHp后缀的文件，又因为Windows操作系统大小写不敏感，所以pHp依然可以被当做php文件解析</li>
<li>利用：将后缀名称修改为Php|pHp|phP等后缀进行上传</li>
</ul>
<p>重写绕过：</p>
<ul>
<li>原理：服务端将黑名单的后缀名替换为空，但只进行一次，上传.phphpp后缀，替换php一次为空，则后缀为.php</li>
<li>利用：将上传页面后缀修改为.pphphp</li>
</ul>
<p>特殊可解析后缀绕过：</p>
<ul>
<li>原理：黑名单规则不严谨，在debian和ubuntu的apt-get安装apache，默认会对以下格式进行解析为php文件</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php|php2|php3|php4|php5|php6|php7|pht|phtm|phtml</span><br></pre></td></tr></table></figure>

<ul>
<li>利用：将后缀文件名称改为php可解析并且不存在与黑名单中的后缀上传</li>
</ul>
<p>.htaccess绕过</p>
<ul>
<li>原理：apache配置上允许.htaccess生效、Apache开启rewrite模块、apache配置文件为AllowOverride All时，在页面内插入htaccess文件，可以改变当前目录以及子目录的apache配置信息</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// .htaccess文件</span><br><span class="line">&lt;FileMatch &quot;shell.jpg&quot;&gt;</span><br><span class="line">	SetHander application/x-httpd-php</span><br><span class="line">&lt;/FilesMatch&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>利用：上传文件名称为.htaccess文件，或者直接在请求包的数据内进行修改（AddType application/x-httpd-php .gif    // 将gif后缀的文件解析为php文件）</li>
</ul>
<p><img src="../images/Web%E5%AE%89%E5%85%A8%EF%BC%88ACSA-Security-Service%E8%AE%A4%E8%AF%81%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B%EF%BC%89/image-20211130205054408.png" alt="image-20211130205054408"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">moeqilin</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/posts/ckx472mit00033g2maz401apf.html">http://example.com/posts/ckx472mit00033g2maz401apf.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">77's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Web%E5%AE%89%E5%85%A8%E5%9F%BA%E7%A1%80%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">Web安全基础：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Web%E5%BA%94%E7%94%A8%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">Web应用介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web%E5%BA%94%E7%94%A8%E5%AE%89%E5%85%A8"><span class="toc-number">1.2.</span> <span class="toc-text">Web应用安全</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81Web%E5%8A%9F%E8%83%BD%E5%AF%B9%E5%BA%94%E6%BC%8F%E6%B4%9E%EF%BC%9A"><span class="toc-number">1.2.1.</span> <span class="toc-text">常见Web功能对应漏洞：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81Web%E7%BC%96%E7%A0%81"><span class="toc-number">1.3.</span> <span class="toc-text">常见Web编码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#URL%E7%BC%96%E7%A0%81"><span class="toc-number">1.3.1.</span> <span class="toc-text">URL编码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Base64"><span class="toc-number">1.3.2.</span> <span class="toc-text">Base64</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hex%E7%BC%96%E7%A0%81"><span class="toc-number">1.3.3.</span> <span class="toc-text">Hex编码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.4.</span> <span class="toc-text">HTTP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E5%8D%8F%E8%AE%AE%E6%8A%A5%E6%96%87"><span class="toc-number">1.4.1.</span> <span class="toc-text">HTTP协议报文</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87"><span class="toc-number">1.4.2.</span> <span class="toc-text">HTTP响应报文</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTPS%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.4.3.</span> <span class="toc-text">HTTPS协议</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Web%E5%AE%89%E5%85%A8%E5%B7%A5%E5%85%B7%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">Web安全工具：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81%E6%94%BB%E5%87%BB%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">身份认证攻击：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#basic%E8%AE%A4%E8%AF%81%E6%94%BB%E5%87%BB"><span class="toc-number">3.1.</span> <span class="toc-text">basic认证攻击</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#302%E8%B7%B3%E8%BD%AC%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81%E7%88%86%E7%A0%B4"><span class="toc-number">3.2.</span> <span class="toc-text">302跳转身份认证爆破</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E%EF%BC%9A"><span class="toc-number">4.</span> <span class="toc-text">文件上传漏洞：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#WebShell%E4%BB%8B%E7%BB%8D"><span class="toc-number">4.1.</span> <span class="toc-text">WebShell介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AFJavaScript%E9%AA%8C%E8%AF%81%E7%BB%95%E8%BF%87"><span class="toc-number">4.2.</span> <span class="toc-text">客户端JavaScript验证绕过</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AFMIME%E7%B1%BB%E9%AA%8C%E8%AF%81%E7%BB%95%E8%BF%87"><span class="toc-number">4.3.</span> <span class="toc-text">服务端MIME类验证绕过</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E9%AA%8C%E8%AF%81-%E6%96%87%E4%BB%B6%E5%A4%B4"><span class="toc-number">4.4.</span> <span class="toc-text">服务器文件内容验证-文件头</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%96%87%E4%BB%B6%E6%89%A9%E5%B1%95%E5%90%8D%E9%AA%8C%E8%AF%81-%E9%BB%91%E5%90%8D%E5%8D%95%E7%BB%95%E8%BF%87"><span class="toc-number">4.5.</span> <span class="toc-text">服务端文件扩展名验证-黑名单绕过</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By moeqilin</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://moeqilin.com/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>